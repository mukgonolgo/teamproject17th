<html layout:decorate="~{layout}">
<div layout:fragment="content">

	<head>

		<link rel="stylesheet" href="/mystyle.css">
		<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

	</head>


	<section class="M_s1 position-relative" style="height: 100vh;">
		<div class="p-0 h-100 main_img">
			<img src="/img/carousel_3.png" class="img-fluid  w-100 h-100" alt="Main Image" style="object-fit: cover;">

			<!-- 이미지 위에 텍스트와 검색창 -->
			<div class="overlay d-flex flex-column justify-content-center align-items-center text-center">
				<div class="text_box mb-4">
					<h5 class="text-title text-light t-shadow main_title">
						모든 미식가를 위한 <br> 최고의 선택
					</h5>
					<p class="content t-shadow main_txt text-light">광고 없는 솔직한 리뷰들로
						이야기합니다.</p>
				</div>

				<!-- 검색 폼 (엔터로 검색) -->
				<form action="/search" method="get" class="w-75 w-md-50 w-lg-25 d-flex justify-content-center">
					<input type="text" name="keyword" class="form-control search-box d-flex justify-content-center"
						placeholder="search" id="search-input" required>
				</form>
			</div>
		</div>
	</section>

	<div id="carouselExampleCaptions" class="d-none">
		<div class="carousel-indicators" >
		</div>
	</div>

	<section class="M_s2">
		<div class="container my-5">
			<div class="M_s2_a1">
				<h3 class="mt-4 my-3">인기 있는 맛집</h3>
				<div class="swiper-container" th:if="${storeList != null}">
					<div class="swiper-wrapper">
						<div class="swiper-slide" th:each="store : ${storeList}">
							<div class=" mb-4">
								<div class="card">

									<a th:href="@{/store/detail/{storeId}(storeId=${store.storeId})}"
										class="store_list_btn" style="text-decoration: none; color: black;">

										<div id="ProRestaurant1" class="carousel slide" data-ride="carousel">
											<div class="carousel-inner">
												<div class="carousel-item active">
													<img th:src="@{{storeImage}(storeImage=${store.imageUrl})}"
														class="card-img-top" alt="가게 이미지" />
												</div>
											</div>
										</div>
										<div class="card-body">
											<div class="storeicon d-flex align-items-center mb-2">
												<i class="fa-solid fa-star" style="color: #FFD43B;"></i>
												<small class="ml-1">4.5</small>
											</div>
											<div class="d-flex justify-content-between align-items-center">
												<h5 class="card-title mb-3" th:text="${store.storeName}">가게 이름</h5>
											</div>
											<div class="d-flex justify-content-between align-items-center mb-3">
												<div class="d-flex align-items-center">
													<i class="fa-solid fa-location-dot"></i>
													<small class="ml-1" th:text="${store.basicAddress}">주소</small>
												</div>
											</div>
										</div>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="swiper-pagination pagination_bullet d-lg-none"></div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
			</div>



			<div class="M_s2_a2">
				<div class="container my-5">
					<h3 class="mt-4 my-3">최신 리뷰</h3>
					<div class="row">
						<div class="col-xl-4 col-lg-6 my-2" th:each="review : ${reviewPage}">
							<div class="card h-100 custom-border mx-auto">
								<a th:href="@{/review_detail/{id}(id=${review.id})}" class="text-dark">
									<h5 class="d-flex align-items-center mt-3 ml-3 mb-2">
										<img th:src="@{${review.user.imageUrl} != null ? ${review.user.imageUrl} : '/img/user/default-profile.png'}"
											alt="user_img" class="rounded-circle" style="width: 50px; height: 50px">
										<span class="d-flex align-items-center mx-2"
											th:text="${review.user.nickname}"></span>
									</h5>
								</a>
								<div class="carousel slide px-2" data-ride="carousel">
									<div class="carousel-inner">
										<div class="carousel-item active">
											<img th:src="@{${review.reviewImageMap[0].reviewImage.filepath}}"
												class="d-block w-100" alt="Review Image">
										</div>
									</div>
								</div>
								<div class="card-body">
									<h5 class="card-title" th:text="${review.title}"></h5>
									<p class="card-text" th:text="${review.content}"></p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
		<script src="myscript.js"></script>
	</section>

	<script src="/js/review_page_like.js"></script>

</div>
<!--layout:fragment="content"  -->

</html>
<!-- layout -->